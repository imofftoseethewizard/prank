(module

 (include "./block-mgr-memory-proxy-imports.wam")
 (import "block-mgr" "init-blockset" (func $init-blockset (param i32 i32 i32)))

 (include "./globals.wam")
 (include "./block-mgr-memory-proxies.wam")

 (memory (export "memory") 1)

 (func $init (export "init")
   (param $blockset-id i32)

   ;; init blockset 0 st during defrag blocks >8KB are immobile, single blocks
   ;; between 4-8KB can be moved, and groups of blocks in aggregate < 4KB can be
   ;; moved.
   (call $init-blockset (local.get $blockset-id) (i32.const 0x2000) (i32.const 0x1000))

   (call $init-blockset-memory-proxies (local.get $blockset-id))))
